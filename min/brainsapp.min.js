!function(){"use strict";window.ba={};var n=function(){this.cbs=[],this.then=function(e){var t;return this._isdone?t=e.apply(null,this.result):(t=new n,this.cbs.push(function(){var n=e.apply(null,arguments);n&&"function"==typeof n.then&&n.then(t.done,t)})),t},this.done=function(){this.result=arguments,this._isdone=!0;for(var n=0;n<this.cbs.length;n++)this.cbs[n].apply(null,arguments);this.cbs=[]}},e=function(e){function t(n){return function(){o+=1,r[n]=Array.prototype.slice.call(arguments),o===a&&i.done(r)}}var i=new n,r=[];if(!e||!e.length)return i.done(r),i;for(var o=0,a=e.length,l=0;l<a;l++)e[l].then(t(l));return i},t=function(e,i){var r=new n;return 0===e.length?r.done.apply(r,i):e[0].apply(null,i).then(function(){e.splice(0,1),t(e,arguments).then(function(){r.done.apply(r,arguments)})}),r};ba.q={defer:function(){return new n},paralell:e,waterfall:t},window.ba.array={},function(){window.ba.array.min={},window.ba.array.min.numEntry=function(n){if("object"==typeof n&&n.length>0){for(var e=0,t=0;t<n.length;t++)n[t]<n[e]&&(e=t);return e}return-2},window.ba.array.min.entryLength=function(){if("object"==typeof a&&a.length>0){var n=0;for(i=0;i<a.length;i++)a[i].length<a[n].length&&(n=i);return n}return-2}}(),window.ba.var={},window.ba.var.media_queries={},window.ba.var.media_queries.xl=1200,window.ba.var.media_queries.l=992,window.ba.var.media_queries.m=768,window.ba.var.media_queries.s=544,window.ba.var.media_queries.xs=400,window.ba.util={},window.ba.util.random={},window.ba.util.random.int=function(n,e){return Math.floor(Math.random()*(e-n+1))+n},window.ba.util.random.float=function(n,e){return Math.random()*(e-n)+n},window.ba.util.random.string=function(n){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<n;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},window.ba.workflow={},window.ba.workflow.init=function(){var n=window.ba.util.random.string(32)+"_";return{prefix:n,events:{},on:function(n,e){this.events[this.prefix+n]=new CustomEvent(this.prefix+n,{details:{}});var t=window.addEventListener(this.prefix+n,function(i){window.removeEventListener(this.prefix+n,t),e(i.details)})},emit:function(n,e){var t=this.events[this.prefix+n];t.details=e,window.dispatchEvent(t)}}},$(function(){$(".ba-dropbtn").on("click",function(n){$("#"+n.target.id+".ba-dropdown-content").toggleClass("ba-show")})}),window.onclick=function(n){if(!n.target.matches(".ba-dropbtn")){var e,t=document.getElementsByClassName("ba-dropdown-content ");for(e=0;e<t.length;e++){var i=t[e];i.classList.contains("ba-show")&&i.classList.remove("ba-show")}}},function(){var n=angular.module("brainsapp",[]);n.directive("baMasonry",function(){return{restrict:"E",replace:!1,scope:{elements:"=",outScope:"=?"},template:'<div class="ba-masonry" id="{{id}}"><div class="ba-column" id="masonry-column-{{$index}}" ng-repeat="array in arrays track by $index"><div ng-repeat="elem in array track by $index"><span ng-if="template ==false">{{elem}}</span><div ng-if="template != false" ng-include="template"></div></div></div></div>',controller:function(n,e,t,i){var r={};r.column={},r.column.xl=5,r.column.l=4,r.column.m=3,r.column.s=2,r.currentColumn=5,r.order="",r.elemIndex=0,r.heights=[];var o=function(n){var e=document.getElementById(n).offsetWidth,t=window.ba.var.media_queries,i=r.column;return e>t.xl?i.xl:e<t.xl&&e>t.l?i.l:e<t.l&&e>t.m?i.m:e<t.m?i.s:void 0},a=function(e){var t=ba.q.defer(),o=e,l=window.ba.array.min.numEntry(r.heights);return i(function(){r.elemIndex++,n.arrays[l].push(o[0]),i(function(){r.heights[l]=$("#masonry-column-"+l).height(),o.splice(0,1),o.length>0?a(o).then(function(){t.done(null,null)}):t.done(null,null)},100)}),t},l=function(){var e=ba.q.defer();return i(function(){n.arrays=[],r.heights=[];for(var t=0;t<r.currentColumn;t++)n.arrays.push([]),r.heights.push(0);e.done(null,null)}),e};t.identifier||""===t.identifier?n.id=t.identifier:n.id="masonry_"+window.ba.util.random.string(10),t.order||""===t.order?(console.log("order is implemented as a parameter but has currently no effect"),r.order=t.order):r.order="bottom",t.template||""===t.template?n.template=t.template:n.template=!1,i(function(){r.currentColumn=o(n.id),$(window).resize(function(e){var t=o(n.id);r.currentColumn!=t&&(r.currentColumn=t,l().then(function(){a(n.elements.slice())}))}),l().then(function(){a(n.elements.slice())})},150),n.$watch("elements",function(e,t){if(e&&t&&e!=t){var i=n.elements.slice();i.splice(0,r.elemIndex),a(i.slice())}},!0)}}}),n.directive("timer",function(){return{restrict:"EA",replace:!1,scope:{},controller:function(n,e,t){}}}),n.factory("$baModal",function(){return console.log("bla"),{init:function(n){console.log(n)}}})}()}();
