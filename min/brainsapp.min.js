!function(){"use strict";window.ba={};var e=function(){this.cbs=[],this.then=function(n){var i;return this._isdone?i=n.apply(null,this.result):(i=new e,this.cbs.push(function(){var e=n.apply(null,arguments);e&&"function"==typeof e.then&&e.then(i.done,i)})),i},this.done=function(){this.result=arguments,this._isdone=!0;for(var e=0;e<this.cbs.length;e++)this.cbs[e].apply(null,arguments);this.cbs=[]}},n=function(n){function i(e){return function(){o+=1,a[e]=Array.prototype.slice.call(arguments),o===r&&t.done(a)}}var t=new e,a=[];if(!n||!n.length)return t.done(a),t;for(var o=0,r=n.length,l=0;l<r;l++)n[l].then(i(l));return t},t=function(n,i){var a=new e;return 0===n.length?a.done.apply(a,i):n[0].apply(null,i).then(function(){n.splice(0,1),t(n,arguments).then(function(){a.done.apply(a,arguments)})}),a};ba.q={defer:function(){return new e},paralell:n,waterfall:t},window.ba.array={},function(){window.ba.array.min={},window.ba.array.min.numEntry=function(e){if("object"==typeof e&&e.length>0){for(var n=0,i=0;i<e.length;i++)e[i]<e[n]&&(n=i);return n}return-2},window.ba.array.min.entryLength=function(){if("object"==typeof a&&a.length>0){var e=0;for(i=0;i<a.length;i++)a[i].length<a[e].length&&(e=i);return e}return-2}}(),window.ba.var={},window.ba.var.media_queries={},window.ba.var.media_queries.xl=1200,window.ba.var.media_queries.l=992,window.ba.var.media_queries.m=768,window.ba.var.media_queries.s=544,window.ba.var.media_queries.xs=400,window.ba.util={},window.ba.util.random={},window.ba.util.random.int=function(e,n){return Math.floor(Math.random()*(n-e+1))+e},window.ba.util.random.float=function(e,n){return Math.random()*(n-e)+e},window.ba.util.random.string=function(e){for(var n="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<e;t++)n+=i.charAt(Math.floor(Math.random()*i.length));return n},window.ba.workflow={},window.ba.workflow.init=function(){var e=window.ba.util.random.string(32)+"_";return{prefix:e,events:{},on:function(e,n){this.events[this.prefix+e]=new CustomEvent(this.prefix+e,{details:{}});var i=window.addEventListener(this.prefix+e,function(t){window.removeEventListener(this.prefix+e,i),n(t.details)})},emit:function(e,n){var i=this.events[this.prefix+e];i.details=n,window.dispatchEvent(i)}}},$(function(){$(".ba-dropbtn").on("click",function(e){$("#"+e.target.id+".ba-dropdown-content").toggleClass("ba-show")})}),window.onclick=function(e){if(!e.target.matches(".ba-dropbtn")){var n,i=document.getElementsByClassName("ba-dropdown-content ");for(n=0;n<i.length;n++){var t=i[n];t.classList.contains("ba-show")&&t.classList.remove("ba-show")}}},function(){var e=angular.module("brainsapp",[]);e.directive("baMasonry",function(){return{restrict:"E",replace:!1,scope:{elements:"=",outScope:"=?"},template:'<div class="ba-masonry" id="{{id}}"><div class="ba-column" id="masonry-column-{{$index}}" ng-repeat="array in arrays track by $index"><div ng-repeat="elem in array track by $index"><span ng-if="template ==false">{{elem}}</span><div ng-if="template != false" ng-include="template"></div></div></div></div>',controller:function(e,n,i,t){var a={};a.column={},a.column.xl=5,a.column.l=4,a.column.m=3,a.column.s=2,a.currentColumn=5,a.order="",a.elemIndex=0,a.heights=[];var o=function(e){var n=document.getElementById(e).offsetWidth,i=window.ba.var.media_queries,t=a.column;return n>i.xl?t.xl:n<i.xl&&n>i.l?t.l:n<i.l&&n>i.m?t.m:n<i.m?t.s:void 0},r=function(n){var i=ba.q.defer(),o=n,l=window.ba.array.min.numEntry(a.heights);return t(function(){a.elemIndex++,e.arrays[l].push(o[0]),t(function(){a.heights[l]=$("#masonry-column-"+l).height(),o.splice(0,1),o.length>0?r(o).then(function(){i.done(null,null)}):i.done(null,null)},100)}),i},l=function(){var n=ba.q.defer();return t(function(){e.arrays=[],a.heights=[];for(var i=0;i<a.currentColumn;i++)e.arrays.push([]),a.heights.push(0);n.done(null,null)}),n};i.identifier||""===i.identifier?e.id=i.identifier:e.id="masonry_"+window.ba.util.random.string(10),i.order||""===i.order?(console.log("order is implemented as a parameter but has currently no effect"),a.order=i.order):a.order="bottom",i.template||""===i.template?e.template=i.template:e.template=!1,t(function(){a.currentColumn=o(e.id),$(window).resize(function(n){var i=o(e.id);a.currentColumn!=i&&(a.currentColumn=i,l().then(function(){r(e.elements.slice())}))}),l().then(function(){r(e.elements.slice())})},150),e.$watch("elements",function(n,i){if(n&&i&&n!=i){var t=e.elements.slice();t.splice(0,a.elemIndex),r(t.slice())}},!0)}}}),e.directive("timer",function(){return{restrict:"EA",replace:!1,scope:{},controller:function(e,n,i){}}}),e.directive("baCarousel",function(){return{restrict:"E",replace:!1,scope:{elements:"=",outScope:"=?",footerTemplate:"=?",headerTemplate:"=?",template:"=?",index:"=?"},template:'<div class="ba-carousel"><div ng-if="headerTemplate && headerTemplate!=\'\'" ng:class="{true:\'hasHeader\',false:\'\'}[headerTemplate && headerTemplate!=\'\']" class="ba-carousel-header"><div ng-include="headerTemplate"></div></div><div class="ba-carousel-body"><div ng-repeat="elem in carousel" class="ba-item ba-item-{{$index}}" ng-class="[{true:\'ba-very-left\'}[$index<(index-1)],{true:\'ba-left\'}[$index==(index-1)],{true:\'ba-center\'}[$index==index],{true:\'ba-right\'}[$index==(index+1)]]"><div ng-if="template && template!=\'\'" style="height:100%;" ng-include="template"></div><div ng-if="!template || template==\'\'">{{$index}} {{elem}}</div></div></div><div  ng-if="footerTemplate && footerTemplate!=\'\'" ng:class="{true:\'hasFooter\',false:\'\'}[footerTemplate && footerTemplate!=\'\']" class="ba-carousel-footer"><div ng-include="footerTemplate"></div></div></div>',controller:function(e,n,i,t){console.log(e.elements),e.index=0,e.carousel=[];for(var a=0;a<e.elements.length;a++)e.carousel.push({content:e.elements[a],id:"carousel_"+window.ba.util.random.string(16)})}}}),e.service("$baTimer",function(e,n){var i=function(){var l=new Date;"start"==r&&(e[o]=l.getTime()-t,a=n(i,200))},t=!1,a=null,o="timer",r="stop";return{setScope:function(e){o=e},start:function(){if("stop"==r){r="start";var e=new Date;t=e.getTime(),a=n(i,200)}else console.log("it's already running")},stop:function(){if("start"==r){r="stop",clearTimeout(a);var n=new Date,i=n.getTime()-this.startTime;return t="",e[o]="",i}console.log("nothing is running")},pause:function(){if("start"==r){r="pause",clearTimeout(a);var n=new Date;e[o]=n.getTime()-t}else console.log("nothing is running")},resume:function(){if("pause"==r){r="start";var l=new Date;t=l.getTime()-e[o],a=n(i,200)}else console.log("it's not paused")}}}),e.factory("$baModal",["$animate","$rootElement","$compile","$controller","$http","$rootScope","$q","$templateRequest","$timeout",function(e,n,i,t,a,o,r,l,s){function d(){}var c,u,m,f={alert:'<div id="{{id}}"><div id="ba-modal" class="ba-modal-alert "><div class="ba-content"><div class="ba-body"><span ng-if="!image">{{text}}</span><div class="ba-image" ng-if="image" style="background-image:url({{text}})"></div></div><div class="ba-footer"><div ng-click="close()" class="ba-btn ba-emerald ba-uppercase ba-fine ba-full">Ok</div></div></div></div></div>',show:'<div ng-click="close()" id="{{id}}"><div id="ba-modal" class="ba-modal-show"><div class="ba-content ba-container"><div class="ba-body"><span ng-if="!image">{{text}}</span><div class="ba-image" ng-if="image" style="background-image:url({{text}})"></div></div></div></div></div>',confirm:'<div id="{{id}}"><div id="ba-modal" class="ba-modal-confirm "><div class="ba-content ba-container"><div class="ba-body"><span ng-if="!image">{{text}}</span><div class="ba-image" ng-if="image" style="background-image:url({{text}})"></div></div><div class="ba-footer"><div class="ba-row"><div class="ba-col-xs-6"><div ng-click="close(false)" class="ba-btn ba-concrete-outline ba-uppercase ba-fine ba-full">{{t.cancle}}</div></div><div class="ba-col-xs-6"><div ng-click="close(true)" class="ba-btn ba-emerald ba-uppercase ba-fine ba-full">{{t.ok}}</div></div></div></div></div></div></div>',prompt:'<div id="{{id}}"><div id="ba-modal" class="ba-modal-confirm "><div class="ba-content ba-container-m-6"><div class="ba-body"><span ng-if="!image">{{text}}</span><div class="ba-image" ng-if="image" style="background-image:url({{text}})"></div><div class="ba-form"><input class="ba-input" ng-model="tiped"></div></div><div class="ba-footer"><div class="ba-row"><div class="ba-col-xs-6"><div ng-click="close(tiped)" class="ba-btn ba-concrete-outline ba-uppercase ba-fine ba-full">{{t.cancle}}</div></div><div class="ba-col-xs-6"><div ng-click="close(tiped)" class="ba-btn ba-emerald ba-uppercase ba-fine ba-full">{{t.ok}}</div></div></div></div></div></div></div>',custom:""},v={de:{ok:"Ok",cancle:"Abbrechen"},en:{ok:"ok"},cancle:"cancle"},b="de",p=function(e,a,r){m=o.$new(),u=o.$on("$locationChangeSuccess",g);var l={$scope:m,id:r,languageText:v[b],close:function(e,n,i){g(n,e)}},s=i(e),d=s(m);l.$element=d;t(a,l,!1,null);n.append(d)},g=function(n,i){c.resolve(i);var t=$("#"+n);e.leave(angular.element(t)).then(function(){m.$destroy(),t.remove(),u()})};return d.prototype={setLanguage:function(e){e=e},alert:function(e,n){var i=r.defer(),t="ba-modal-"+window.ba.util.random.string(16);return c=r.defer(),p(f.alert,function(n,i,t,a){n.image=!1,n.t=t,n.id=i,n.text=e,n.close=function(){a(null,i)}},t),i.resolve(c.promise),i.promise},alertImg:function(e){var n=r.defer(),i="ba-modal-"+window.ba.util.random.string(16);return c=r.defer(),p(f.alert,function(n,i,t,a){n.image=!0,n.t=t,n.id=i,n.text=e,n.close=function(){a(null,i)}},i),n.resolve(c.promise),n.promise},show:function(e,n){var i=r.defer(),t="ba-modal-"+window.ba.util.random.string(16);return c=r.defer(),p(f.show,function(i,t,a,o){i.image=!1,i.id=t,i.text=e,n||(n=5e3),i.close=function(){o(null,t)},s(function(){i.close()},n)},t),i.resolve(c.promise),i.promise},showImg:function(e,n){var i=r.defer(),t="ba-modal-"+window.ba.util.random.string(16);return c=r.defer(),p(f.show,function(i,t,a,o){i.image=!0,i.id=t,i.text=e,n||(n=5e3),i.close=function(){o(null,t)},s(function(){i.close()},n)},t),i.resolve(c.promise),i.promise},confirm:function(e){var n=r.defer(),i="ba-modal-"+window.ba.util.random.string(16);return c=r.defer(),p(f.confirm,function(n,i,t,a){n.t=t,n.image=!1,n.id=i,n.text=e,n.close=function(e){a(e,i)}},i),n.resolve(c.promise),n.promise},confirmImg:function(e){var n=r.defer(),i="ba-modal-"+window.ba.util.random.string(16);return c=r.defer(),p(f.confirm,function(n,i,t,a){n.t=t,n.image=!0,n.id=i,n.text=e,n.close=function(e){a(e,i)}},i),n.resolve(c.promise),n.promise},prompt:function(e){var n=r.defer(),i="ba-modal-"+window.ba.util.random.string(16);return c=r.defer(),p(f.prompt,function(n,i,t,a){n.t=t,n.image=!1,n.id=i,n.text=e,n.close=function(e){a(e,i)}},i),n.resolve(c.promise),n.promise},promptImg:function(e){var n=r.defer(),i="ba-modal-"+window.ba.util.random.string(16);return c=r.defer(),p(f.prompt,function(n,i,t,a){n.t=t,n.image=!0,n.id=i,n.text=e,n.close=function(e){a(e,i)}},i),n.resolve(c.promise),n.promise},promptArray:function(e){this.array=e},custom:function(e,n){}},d}])}()}();
